\begin{scope}[shift={($(Environment.north) + (-5 cm, 85 cm)$)}, opacity=0.25]
    \begin{package}{Thermodynamic ensembles}
        
        \begin{scope}[opacity=1]
            \begin{abstractclass}[text width=\largeTextWidth]{OneParticleMove}{0, 0}
                \operation{construct(temperature\type{Temperature}, moved1\type{MovedPositions},
                    moved2\type{MovedPositions})}
                \operation{destroy()}
                \operation{setCandidate(iCandidate\type{int}, positions\type{Positions})}
                \operation{setCandidate(iCandidate\type{int}, intraCells\type{VisitableCells},
                    interCells\type{VisitableCells}}
                \operation{setCandidateObservables(moveCounters\type{ChangeCounters[2]},
                    componentEnergies\type{ParticleEnergy[2]}, interEnergy\type{double})}
                \operation{destroy()}
                \operation{try()}
            \end{abstractclass}
        \end{scope}

    \end{package}
\end{scope}

\begin{scope}[on background layer]
    %\aggregation{MetropolisAlgorithm}{thermostat}{1}{Thermostat}

    %\aggregation{OneSphereMove}{dipSpheres}{2}{DipolarSpheres}
    %\aggregation{OneSphereMove}{boxedSpheres}{2}{BoxedSpheres}
    %\aggregation{OneSphereMove}{random}{2}{RandomPositions}
    %\aggregation{OneSphereMove}{short}{2}{ShortInteraction}
    %\aggregation{OneSphereMove}{walls}{1}{WallsInteraction}
    %\aggregation{OneSphereMove}{dipolar}{2}{DipolarInteractionFacade}
    %\aggregation{OneSphereMove}{field}{1}{FieldInteraction}
    %\compostion{OneSphereMove}{observables}{3}{Observables}
    
    %\aggregation{OneSphereRotation}{dipSpheres}{2}{DipolarSpheres}
    %\aggregation{OneSphereRotation}{random}{2}{RandomOrientations}
    %\aggregation{OneSphereRotation}{dipolar}{2}{DipolarInteractionFacade}
    %\compostion{OneSphereRotation}{observables}{3}{Observables}
    
    %\aggregation{TwoSpheresSwitch}{dipSpheres}{2}{DipolarSpheres}
    %\aggregation{TwoSpheresSwitch}{boxedSpheres}{2}{BoxedSpheres}
    %\aggregation{TwoSpheresSwitch}{short}{2}{ShortInteraction}
    %\aggregation{TwoSpheresSwitch}{walls}{1}{WallsInteraction}
    %\aggregation{TwoSpheresSwitch}{dipolar}{2}{DipolarInteractionFacade}
    %\aggregation{TwoSpheresSwitch}{field}{1}{FieldInteraction}
    %\compostion{TwoSpheresSwitch}{observables}{3}{Observables}
    
    %\aggregation{OneSphereExchange}{dipSpheres}{2}{DipolarSpheres}
    %\aggregation{OneSphereExchange}{boxedSpheres}{2}{BoxedSpheres}
    %\aggregation{OneSphereExchange}{short}{2}{ShortInteraction}
    %\aggregation{OneSphereExchange}{walls}{1}{WallsInteraction}
    %\aggregation{OneSphereExchange}{dipolar}{2}{DipolarInteractionFacade}
    %\aggregation{OneSphereExchange}{field}{1}{FieldInteraction}
    %\aggregation{OneSphereExchange}{reservoir}{2}{SpheresReservoir}
    %\compostion{OneSphereExchange}{observables}{3}{Observables}
\end{scope}
