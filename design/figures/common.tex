\documentclass{standalone}

\usepackage{luatex85}
\renewcommand{\familydefault}{\sfdefault}
\input figures/figures.sty

\begin{document}

    \begin{tikzpicture}[scale=\scale, every node/.style={scale=\scale}]

        \begin{scope}
            \begin{abstractclass}[text width=\largeTextWidth]{PLMCpropagator}{0, 0}
                \operation{\procedure{construct}{$\mathAggregation$ components:
                    \type{Component[\numComponents, \numBoxes]},
                    $\mathAggregation$ generatingAlgorithms: \type{GeneratingAlgorithm[:]},
                    $\mathComposition$ selector: \type{TowerSampler}}}
                \operation{\procedure{destroy}{}}
                \operation{\procedure{resetSelector}{}}
                \operation{\procedure{tune}{iStep: \type{int}}}
                \operation{\procedure{try}{observables: \type{GeneratingObservables}}}
            \end{abstractclass}
        \end{scope}

        \begin{scope}[shift={($(PLMCpropagator.north) + (8 cm, 0 cm)$)}]
            \coordinate (Import) at (0, 0);
            \umlnote[text width=\mediumTextWidth]{\import{}:\\
                \namespace{Random} :: TowerSampler \\
                \namespace{Mixture} :: Component \\
                \namespace{GeneratingAlgorithm} :: GeneratingAlgorithm \\
                \namespace{Observables} :: GeneratingObservables};
        \end{scope}

        \begin{scope}[shift={($(PLMCpropagator.north) - (8 cm, 0 cm)$)}]
            \begin{abstractclass}[text width=\mediumTextWidth]{HeteroCouples}{0, 0}
                \operation[0]{\procedure{construct}{numPartners: \type{int}}}
                \operation{\procedure{destroy}{}}
                \operation{\procedure{getNum}{}: \type{int}}
                \operation{\procedure{get}{index: \type{int}}: \type{int[2]}}
            \end{abstractclass}
        \end{scope}

        \begin{scope}[shift={($(HeteroCouples.south) - (0 cm, 2 cm)$)}]
            \begin{class}[text width=\mediumTextWidth]{PotentialDomain}{0, 0}
                \UMLattribute{min: \type{real}}
                \UMLattribute{maxOverBoxEdge: \type{real}}
                \UMLattribute{max: \type{real}}
                \UMLattribute{delta: \type{real}}
            \end{class}
        \end{scope}

    \end{tikzpicture}

\end{document}
