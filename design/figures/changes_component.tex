\documentclass{standalone}

\input figures/figures.sty

\begin{document}

    \begin{tikzpicture}

        \begin{package}{ChangesComponent}

            \begin{scope}
                \begin{abstractclass}[text width=\smallTextWidth]{ChangedCoordinates}{0, 0}
                    \operation[0]{destroy()}
                    \operation[0]{increaseDelta()}
                    \operation[0]{decreaseDelta()}
                    \operation[0]{getNum()\type{int}}
                    \operation[0]{get(iParticle\type{int})\type{double[3]}}
                \end{abstractclass}
            \end{scope}

            \begin{scope}[shift={($(ChangedCoordinates) + (0 cm, 6 cm)$)}]
                \begin{abstractclass}[text width=\mediumTextWidth]{ChangeTuner}{0, 0}
                    \operation{construct(changedCoordinates\type{ChangedCoordinates},
                        parameters\type{ChangeTunerParameters})}
                    \operation{destroy()}
                    \operation{tune(tuned\type{bool}, iStep\type{int}, successRatio\type{double})}
                \end{abstractclass}
            \end{scope}

            \begin{scope}[shift={($(ChangedCoordinates.north) + (6.5 cm, 0 cm)$)}]
                \begin{abstractclass}[text width=\smallTextWidth]{ComponentExchange}{0, 0}
                    \operation{construct(component\type{Component})}
                    \operation{destroy()}
                    \operation{add(particle\type{TemporaryParticle})}
                    \operation{remove(iParticle\type{int})}
                \end{abstractclass}
            \end{scope}
            
            \begin{scope}[shift={($(ChangeTuner.north -| ComponentExchange.north)$)}]
                \umlnote{Import: \namespace{Mixture}Component, TemporaryParticle};
            \end{scope}

        \end{package}

        \begin{scope}[on background layer]
            \aggregation{ChangeTuner}{\refName{changedCoordinates}}{\numRef{1}}{ChangedCoordinates}
        \end{scope}

    \end{tikzpicture}

\end{document}
